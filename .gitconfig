[user]
  email = frederikgalle@fastmail.fm
  name = Frederik
[color]
  ui = auto
[color "branch"]
  current = green
  local = yellow
  remote = cyan
[color "diff"]
  meta = yellow
  frag = magenta
  old = red
  new = green
  commit = yellow
  whitespace = normal red
[color "status"]
  added = green
  changed = yellow
  unchanged = cyan
  untracked = cyan
  nobranch = red
[color "interactive"]
  header = yellow
  help = red
  prompt = blue
[alias]
  git = !exec git

  co = checkout

  # Add to staging area
  a  = add
  up = add --update --patch
  ap = add --patch
  patch = add --patch

  # Commit
  c  = commit --verbose
  cm = commit -m
  amend = commit --amend --verbose

  # Unstage the changes to some files
  unstage = reset HEAD --

  # Undo the last commit
  undo = reset "HEAD^"

  # Short and verbose statuses
  s  = "!printf '\n' && git status --short $@ && printf '\n'"
  sv = status
  watch = "!while :; do clear; git status --short; git --no-pager diff --shortstat; sleep 2; done"
  watchh = "!while :; do clear; git log; sleep 2; done"

  # Overview of branches
  b   = branch
  bl  = branch --verbose
  bla = branch --verbose --all

  # Diffs
  sd = diff --staged
  d = diff
  sdiff = "!git submodule foreach 'git diff'"

  # When merging
  ours = checkout --ours --
  theirs = checkout --theirs --

  # Show details of last commit
  details = log -n1 -p --format=fuller

  # Show list of changes between two commits
  changes="!f() { git log --pretty=format:'* %s' $1..$2;  }; f"

  # Overview of history
  ls = log --pretty=format:"%C(yellow)%h\\ %Cred%d\\ %Creset%s\\ %C(bold\\ blue)<%cn>%Creset" --decorate --graph
  lsd = log --pretty=format:"%C(yellow)%h\\ %Cgreen%ad%Cred%d\\ %Creset%s\\ %C(bold\\ blue)<%cn>%Creset" --decorate --graph --date=relative
  ll = log --pretty=format:"%C(yellow)%h\\ %Cred%d\\ %Creset%s\\ %C(bold\\ blue)<%cn>%Creset%n" --decorate --numstat --graph
  lld = log --pretty=format:"%C(yellow)%h\\ %Cred%d\\ %Creset%s\\ %Cgreen(%ad)\\ %C(bold\\ blue)<%cn>%Creset%n" --decorate --graph --numstat --date=relative

  # Show files that are being ignored due to git update-index --assume-unchanged
  ignored = !git ls-files -v `git rev-parse --show-toplevel` | grep "^[a-z]"

  # Remove deleted files
  r = !git ls-files -z --deleted | xargs -0 git rm

  # List all tags
  tags = tag -l

  # Exclude file locally
  exclude = !sh -c 'echo "$1" >> .git/info/exclude' -

  # Prune deleted branches
  prune = fetch --prune

  # list aliases
  alias = "!git config --list | grep 'alias\\.' | sed 's/alias\\.\\([^=]*\\)=\\(.*\\)/\\1\\ \t => \\2/' | sort | column -t -s $'\\t'"
[core]
  editor = nvim
  quotepath = false
  excludesfile = ~/.gitignore
  autocrlf = input
[push]
  default = upstream
  recurseSubmodules = check
[help]
  autocorrect = 1
[diff]
  algorithm = patience
  mnemonicprefix = true
  renames = copies
  submodule=log
[url "git@github.com:"]
  insteadOf = gh:
[url "git@bitbucket.org:"]
  insteadOf = bb
[rebase]
  autosquash = true
  autostash = true
[merge]
  tool = nfugitive
  conflictstyle = diff3
[mergetool "nvimdiff4"]
  cmd = nvim -d $LOCAL $BASE $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'
[mergetool "nfugitive"]
  cmd = nvim -c "Gdiff" "$MERGED"
[push]
  followTags = true
[status]
  submodulesummary = 1
[init]
	templatedir = ~/.git_template
